module.exports = arrayMax;

var check = require('check-types');

/**
 * Get the highest value of an array of numbers or array of objects that contain number values
 * @param {array} array
 * @param {string=} field Object property name to reference when maxing
 * @return {number}
 */
function arrayMax(array, field)
{
  if (!array)
    throw new Error('Required `array` argument is missing');

  if (!check.array(array))
    throw new TypeError('`array` argument must be an array');

  if (!array.length) return false;

  // Array of objects
  if (field) {
    return Math.max.apply(null, array.map(function(x) {
      if (!check.number(x[field]))
        throw new TypeError('Field must be a number');

      return x[field];
    }));
  }

  // Array of numbers
  else {
    array.map(function(x) {
      if (!check.number(x))
        throw new TypeError('Array values must be numbers');
    });

    return Math.max.apply(null, array);
  }
}
